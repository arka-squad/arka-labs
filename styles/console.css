.console-theme { background-color: var(--bg); color: var(--fg); }

/* Utility surfaces for console */
.console-card { background-color: var(--surface); border: 1px solid var(--border); }
.console-ring-soft { box-shadow: 0 0 0 1px rgb(51 65 85 / 0.60) inset; }

/* Scrollbars: hidden by default, visible on hover */
.scroller {
  overflow: auto;
  scrollbar-gutter: stable both-edges;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: transparent transparent; /* idle invisible */
  /* Ensure content doesn't sit flush to the fold */
  padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
}
.scroller:hover { scrollbar-color: var(--scroll-thumb, var(--bubble, #18212B)) var(--scroll-track, transparent); }
.scroller::-webkit-scrollbar { width: 8px; height: 8px; }
.scroller.dense::-webkit-scrollbar { width: 6px; height: 6px; }
.scroller::-webkit-scrollbar-track { background: var(--scroll-track, transparent); }
.scroller::-webkit-scrollbar-thumb {
  background: transparent;          /* idle invisible */
  border-radius: 8px;
  border: 2px solid transparent;    /* thin handle */
}
.scroller:hover::-webkit-scrollbar-thumb { background: var(--scroll-thumb, #18212B); }
.scroller:hover::-webkit-scrollbar-thumb:active { background: var(--scroll-thumb-hover, #223042); }
.scroller::-webkit-scrollbar-corner { background: var(--scroll-track, transparent); }

/* Cockpit layout spacing fixes */
.cockpit-main {
  /* Ajout d'espacement entre le chat et le contenu */
  margin-left: 16px;
}

.cockpit-main > div {
  /* Éviter le débordement des blocs à droite */
  max-width: calc(100% - 32px); /* Laisse de l'espace des deux côtés */
  margin-left: 0;
  margin-right: 0;
  padding-right: 16px; /* Marge droite similaire à gauche */
}

/* Quand le chat est fermé, retirer la marge gauche */
body:has(.cockpit-main) .cockpit-main {
  margin-left: 0px;
}

/* Si la variable --cockpit-chat-w est définie et > 0 */
:root:has([style*="--cockpit-chat-w"]:not([style*="--cockpit-chat-w: 0px"])) .cockpit-main {
  margin-left: 16px;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
  .cockpit-main {
    margin-left: 8px;
  }
  .cockpit-main > div {
    max-width: calc(100% - 16px);
    padding-right: 8px;
  }
}
